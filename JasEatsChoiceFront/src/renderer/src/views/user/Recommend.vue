<script setup>
import { ref } from 'vue';

// æˆ‘çš„æ¨èæ•°æ®
const recommendations = ref([
  {
    id: 1,
    name: 'å¥åº·è½»é£Ÿå¥—é¤',
    type: 'åˆé¤',
    calories: 420,
    tags: ['ä½å¡', 'é«˜çº¤ç»´', 'è›‹ç™½è´¨ä¸°å¯Œ'],
    reason: 'åŸºäºæ‚¨çš„å¡è·¯é‡Œç›®æ ‡å’Œé¥®é£Ÿåå¥½æ¨è',
    rating: 4.8,
    image: 'ğŸ¥—'
  },
  {
    id: 2,
    name: 'è¥å…»æ—©é¤ç»„åˆ',
    type: 'æ—©é¤',
    calories: 380,
    tags: ['è¥å…»å‡è¡¡', 'èƒ½é‡æŒä¹…'],
    reason: 'é€‚åˆæ‚¨çš„æ—©èµ·æ—¶é—´å’Œå¥åº·éœ€æ±‚',
    rating: 4.6,
    image: 'ğŸ¥ª'
  },
  {
    id: 3,
    name: 'è½»è„‚æ™šé¤',
    type: 'æ™šé¤',
    calories: 320,
    tags: ['ä½è„‚è‚ª', 'æ˜“æ¶ˆåŒ–'],
    reason: 'å¸®åŠ©æ‚¨ä¿æŒæ¯æ—¥å¡è·¯é‡Œæ‘„å…¥å¹³è¡¡',
    rating: 4.7,
    image: 'ğŸ²'
  },
  {
    id: 4,
    name: 'å¥èº«è¡¥å……é¤',
    type: 'åŠ é¤',
    calories: 280,
    tags: ['é«˜è›‹ç™½', 'å¢è‚Œ'],
    reason: 'é€‚åˆæ‚¨çš„å¥èº«è®¡åˆ’',
    rating: 4.9,
    image: 'ğŸ¥¤'
  }
]);
</script>

<template>
  <div class="recommend-container">
    <h2>æˆ‘çš„æ¨è</h2>

    <!-- æ¨èåˆ—è¡¨ -->
    <div class="recommend-grid">
      <el-card
        v-for="item in recommendations"
        :key="item.id"
        class="recommend-card"
      >
        <div class="card-header">
          <div class="dish-image">{{ item.image }}</div>
          <div class="dish-info">
            <div class="dish-name">{{ item.name }}</div>
            <div class="dish-type">
              <el-tag type="primary" size="small">{{ item.type }}</el-tag>
            </div>
          </div>
        </div>

        <div class="calories-info">
          <span>ğŸ”¥</span>
          <span>{{ item.calories }} kcal</span>
        </div>

        <div class="tags-section">
          <el-tag
            v-for="tag in item.tags"
            :key="tag"
            size="small"
            :type="tag === 'ä½å¡' ? 'success' : tag === 'é«˜çº¤ç»´' ? 'warning' : tag === 'è›‹ç™½è´¨ä¸°å¯Œ' ? 'info' : 'primary'"
          >
            {{ tag }}
          </el-tag>
        </div>

        <div class="reason-section">
          <div class="reason-title">æ¨èç†ç”±</div>
          <div class="reason-text">{{ item.reason }}</div>
        </div>

        <div class="card-actions">
          <div class="rating">
            <el-rate
              v-model="item.rating"
              :disabled="true"
              show-text
            />
          </div>
          <el-button type="primary" size="small">ç«‹å³æŸ¥çœ‹</el-button>
        </div>
      </el-card>
    </div>
  </div>
</template>

<style scoped lang="less">
.recommend-container {
  padding: 0 20px 20px 20px;

  h2 {
    font-size: 24px;
    margin: 0 0 20px 0;
  }

  .recommend-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 20px;
  }

  .recommend-card {
    .card-header {
      display: flex;
      gap: 20px;
      margin-bottom: 15px;
      align-items: center;

      .dish-image {
        font-size: 60px;
      }

      .dish-info {
        .dish-name {
          font-size: 18px;
          font-weight: bold;
          margin-bottom: 5px;
        }
      }
    }

    .calories-info {
      display: flex;
      gap: 5px;
      color: #ff6b6b;
      font-weight: bold;
      margin-bottom: 15px;
      font-size: 16px;
    }

    .tags-section {
      margin-bottom: 15px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .reason-section {
      margin-bottom: 20px;

      .reason-title {
        font-weight: bold;
        margin-bottom: 5px;
      }

      .reason-text {
        color: #666;
        font-size: 14px;
        line-height: 1.5;
      }
    }

    .card-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;

      .rating {
        :deep(.el-rate__text) {
          font-size: 14px;
        }
      }
    }
  }
}
</style>
